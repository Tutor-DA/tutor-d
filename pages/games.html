<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Math Games Hub | TutorDA</title>
  <meta name="description" content="Play interactive math games on TutorDA. Earn XP, badges, and compete on the leaderboard while mastering arithmetic, fractions, algebra, primes, and more.">
  <link rel="stylesheet" href="../assets/css/style.css" />
  <link rel="stylesheet" href="../assets/css/footer.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* â”€â”€â”€ CSS Variables â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    :root {
      --orange:   #ff8c00;
      --orange2:  #ff6600;
      --dark:     #0d0d1a;
      --card-bg:  #141428;
      --card2:    #1a1a35;
      --text:     #e8e8ff;
      --muted:    #8888aa;
      --gold:     #ffd700;
      --green:    #22c55e;
      --red:      #ef4444;
      --blue:     #3b82f6;
      --purple:   #a855f7;
      --radius:   14px;
      --glow:     0 0 24px rgba(255,140,0,.35);
    }

    /* â”€â”€â”€ Base Reset â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: var(--dark);
      color: var(--text);
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
    }

    /* â”€â”€â”€ Starfield Background â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .stars {
      position: fixed; inset: 0; pointer-events: none; z-index: 0;
      background: radial-gradient(ellipse at 20% 50%, #1a0a3d 0%, transparent 60%),
                  radial-gradient(ellipse at 80% 20%, #0d1a3d 0%, transparent 50%),
                  var(--dark);
      overflow: hidden;
    }
    .stars::before {
      content: '';
      position: absolute; inset: 0;
      background-image:
        radial-gradient(1px 1px at 10% 15%, #fff 0%, transparent 100%),
        radial-gradient(1px 1px at 30% 70%, #fff 0%, transparent 100%),
        radial-gradient(1px 1px at 50% 35%, rgba(255,255,255,.6) 0%, transparent 100%),
        radial-gradient(1px 1px at 70% 80%, #fff 0%, transparent 100%),
        radial-gradient(1px 1px at 90% 45%, rgba(255,255,255,.8) 0%, transparent 100%),
        radial-gradient(1px 1px at 20% 90%, rgba(255,255,255,.5) 0%, transparent 100%),
        radial-gradient(1px 1px at 60% 10%, #fff 0%, transparent 100%),
        radial-gradient(1px 1px at 85% 65%, rgba(255,255,255,.7) 0%, transparent 100%);
    }

    /* â”€â”€â”€ Page Wrapper â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .games-wrapper { position: relative; z-index: 1; max-width: 1100px; margin: 0 auto; padding: 0 20px 60px; }

    /* â”€â”€â”€ Hero Banner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .games-hero {
      text-align: center;
      padding: 56px 24px 32px;
    }
    .games-hero .eyebrow {
      font-family: 'Orbitron', sans-serif;
      font-size: .75rem; letter-spacing: .18em;
      color: var(--orange); text-transform: uppercase;
      margin-bottom: 12px;
    }
    .games-hero h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2rem, 6vw, 3.4rem);
      font-weight: 900;
      background: linear-gradient(135deg, #fff 0%, var(--orange) 60%, var(--gold) 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
      line-height: 1.15; margin-bottom: 16px;
    }
    .games-hero p {
      color: var(--muted); max-width: 600px; margin: 0 auto 32px;
      font-size: 1.05rem; line-height: 1.6;
    }

    /* â”€â”€â”€ Player Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .player-bar {
      display: flex; flex-wrap: wrap; gap: 12px; align-items: center;
      justify-content: center;
      background: var(--card-bg); border: 1px solid #2a2a4a;
      border-radius: var(--radius); padding: 16px 24px;
      margin-bottom: 36px;
    }
    .player-name-section { display: flex; gap: 8px; align-items: center; }
    .player-name-section input {
      background: #0d0d1a; border: 1px solid #3a3a5a;
      color: var(--text); border-radius: 8px;
      padding: 8px 14px; font-family: 'Poppins', sans-serif;
      font-size: .9rem; width: 160px; outline: none;
      transition: border-color .2s;
    }
    .player-name-section input:focus { border-color: var(--orange); }
    .player-name-section button {
      background: var(--orange); color: #fff; border: none;
      border-radius: 8px; padding: 8px 18px;
      font-family: 'Poppins', sans-serif; font-weight: 600;
      cursor: pointer; transition: background .2s;
    }
    .player-name-section button:hover { background: var(--orange2); }

    .stat-chip {
      display: flex; align-items: center; gap: 6px;
      background: #0d0d1a; border: 1px solid #2a2a4a;
      border-radius: 999px; padding: 6px 16px;
      font-size: .9rem;
    }
    .stat-chip .label { color: var(--muted); font-size: .8rem; }
    .stat-chip .value { font-weight: 700; color: var(--orange); }
    #xp-bar-wrap {
      width: 100%; background: #1a1a35; border-radius: 999px;
      height: 8px; overflow: hidden;
    }
    #xp-bar {
      height: 100%; background: linear-gradient(90deg, var(--orange), var(--gold));
      border-radius: 999px; transition: width .6s ease;
    }

    /* â”€â”€â”€ Games Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 24px; margin-bottom: 48px;
    }

    .game-card {
      background: var(--card-bg);
      border: 1px solid #2a2a4a;
      border-radius: var(--radius);
      overflow: hidden;
      transition: transform .25s, box-shadow .25s, border-color .25s;
      display: flex; flex-direction: column;
    }
    .game-card:hover { transform: translateY(-4px); box-shadow: var(--glow); border-color: var(--orange); }

    .game-card-header {
      padding: 24px 24px 16px;
      display: flex; align-items: flex-start; gap: 14px;
    }
    .game-icon {
      font-size: 2.2rem; width: 54px; height: 54px;
      display: flex; align-items: center; justify-content: center;
      border-radius: 12px; flex-shrink: 0;
    }
    .game-card h3 { font-size: 1.1rem; font-weight: 700; margin-bottom: 4px; }
    .game-card .desc { color: var(--muted); font-size: .85rem; line-height: 1.5; }

    .game-meta {
      display: flex; gap: 8px; padding: 0 24px 16px; flex-wrap: wrap;
    }
    .badge-pill {
      font-size: .72rem; padding: 3px 10px; border-radius: 999px;
      font-weight: 600; letter-spacing: .04em;
    }
    .pill-xp   { background: rgba(255,140,0,.15); color: var(--orange); border: 1px solid rgba(255,140,0,.3); }
    .pill-level{ background: rgba(59,130,246,.15); color: #7bb8ff;      border: 1px solid rgba(59,130,246,.3); }
    .pill-topic{ background: rgba(168,85,247,.15); color: #d099ff;      border: 1px solid rgba(168,85,247,.3); }

    .game-card-body { padding: 0 24px 24px; flex: 1; display: flex; flex-direction: column; }

    .play-btn {
      display: block; width: 100%; padding: 12px;
      background: linear-gradient(135deg, var(--orange), var(--orange2));
      color: #fff; font-family: 'Poppins', sans-serif;
      font-weight: 700; font-size: .95rem; border: none;
      border-radius: 10px; cursor: pointer; text-align: center;
      transition: opacity .2s, transform .1s;
      margin-top: auto; letter-spacing: .05em;
    }
    .play-btn:hover { opacity: .9; transform: scale(1.02); }
    .play-btn:active { transform: scale(.98); }

    /* â”€â”€â”€ Modal Overlay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .modal-overlay {
      display: none; position: fixed; inset: 0;
      background: rgba(0,0,0,.85); z-index: 1000;
      align-items: center; justify-content: center;
      padding: 16px;
    }
    .modal-overlay.open { display: flex; }

    .modal-box {
      background: var(--card-bg);
      border: 1px solid #3a3a5a;
      border-radius: 18px;
      width: 100%; max-width: 520px;
      max-height: 90vh; overflow-y: auto;
      padding: 32px; position: relative;
      animation: popIn .3s cubic-bezier(.34,1.56,.64,1);
    }
    @keyframes popIn {
      from { transform: scale(.85); opacity: 0; }
      to   { transform: scale(1);   opacity: 1; }
    }
    .modal-close {
      position: absolute; top: 16px; right: 20px;
      background: none; border: none; color: var(--muted);
      font-size: 1.4rem; cursor: pointer; transition: color .2s;
    }
    .modal-close:hover { color: var(--text); }

    .modal-box h2 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.3rem; margin-bottom: 6px;
      color: var(--orange);
    }
    .modal-box .subtitle { color: var(--muted); font-size: .9rem; margin-bottom: 24px; }

    /* â”€â”€â”€ Game Shared UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .game-score-row {
      display: flex; justify-content: space-between; margin-bottom: 18px;
    }
    .score-item { text-align: center; }
    .score-item .s-label { font-size: .72rem; color: var(--muted); text-transform: uppercase; letter-spacing: .08em; }
    .score-item .s-val { font-family: 'Orbitron', sans-serif; font-size: 1.5rem; font-weight: 700; color: var(--gold); }
    #timer-val { color: var(--orange); }

    .question-box {
      background: #0d0d1a; border: 1px solid #2a2a4a;
      border-radius: 12px; padding: 24px;
      text-align: center; margin-bottom: 20px;
    }
    .question-text {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(1.4rem, 5vw, 2.2rem);
      font-weight: 700; color: #fff;
      letter-spacing: .05em;
    }

    .answer-input {
      width: 100%; background: #0d0d1a;
      border: 2px solid #2a2a4a; color: var(--text);
      border-radius: 10px; padding: 12px 16px;
      font-family: 'Orbitron', sans-serif;
      font-size: 1.3rem; text-align: center;
      outline: none; margin-bottom: 14px;
      transition: border-color .2s;
    }
    .answer-input:focus { border-color: var(--orange); }
    .answer-input.correct { border-color: var(--green); background: rgba(34,197,94,.08); }
    .answer-input.wrong   { border-color: var(--red);   background: rgba(239,68,68,.08); }

    .answer-opts {
      display: grid; grid-template-columns: 1fr 1fr;
      gap: 10px; margin-bottom: 14px;
    }
    .opt-btn {
      background: #1a1a35; border: 2px solid #2a2a4a;
      color: var(--text); border-radius: 10px;
      padding: 14px; font-family: 'Poppins', sans-serif;
      font-size: 1rem; font-weight: 600; cursor: pointer;
      transition: all .15s;
    }
    .opt-btn:hover { border-color: var(--orange); color: var(--orange); }
    .opt-btn.correct { border-color: var(--green); background: rgba(34,197,94,.15); color: var(--green); }
    .opt-btn.wrong   { border-color: var(--red);   background: rgba(239,68,68,.1);  color: var(--red); }

    .feedback-msg {
      text-align: center; font-weight: 700; font-size: 1.05rem;
      min-height: 28px; margin-bottom: 8px; border-radius: 8px; padding: 4px;
    }
    .feedback-msg.ok  { color: var(--green); }
    .feedback-msg.bad { color: var(--red); }

    .action-btn {
      width: 100%; padding: 13px;
      background: linear-gradient(135deg, var(--orange), var(--orange2));
      color: #fff; border: none; border-radius: 10px;
      font-family: 'Poppins', sans-serif; font-weight: 700;
      font-size: 1rem; cursor: pointer; transition: opacity .2s;
    }
    .action-btn:hover { opacity: .9; }
    .action-btn:disabled { opacity: .4; cursor: not-allowed; }

    .result-screen {
      display: none; text-align: center; padding: 12px 0;
    }
    .result-screen.show { display: block; }
    .result-emoji { font-size: 3.5rem; margin-bottom: 10px; }
    .result-title { font-family: 'Orbitron', sans-serif; font-size: 1.6rem; font-weight: 900; color: var(--gold); }
    .result-sub { color: var(--muted); margin: 8px 0 20px; font-size: .95rem; }
    .xp-earned-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--orange), var(--gold));
      color: #000; font-weight: 800; font-size: 1.1rem;
      padding: 8px 24px; border-radius: 999px; margin-bottom: 20px;
    }

    /* Progress bar inside modal */
    .progress-track {
      background: #1a1a35; border-radius: 999px; height: 6px;
      margin-bottom: 20px; overflow: hidden;
    }
    .progress-fill {
      height: 100%; background: linear-gradient(90deg, var(--orange), var(--gold));
      border-radius: 999px; transition: width .4s;
    }

    /* â”€â”€â”€ Difficulty Selector â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .diff-select {
      display: flex; gap: 8px; justify-content: center; margin-bottom: 18px;
    }
    .diff-btn {
      padding: 7px 18px; border-radius: 999px;
      border: 2px solid #2a2a4a; background: transparent;
      color: var(--muted); font-family: 'Poppins', sans-serif;
      font-size: .85rem; font-weight: 600; cursor: pointer;
      transition: all .15s;
    }
    .diff-btn.active, .diff-btn:hover { border-color: var(--orange); color: var(--orange); background: rgba(255,140,0,.1); }

    /* â”€â”€â”€ Leaderboard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .leaderboard-section {
      background: var(--card-bg); border: 1px solid #2a2a4a;
      border-radius: var(--radius); padding: 28px; margin-bottom: 36px;
    }
    .leaderboard-section h2 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.2rem; color: var(--gold); margin-bottom: 20px;
      display: flex; align-items: center; gap: 10px;
    }
    .lb-table { width: 100%; border-collapse: collapse; }
    .lb-table th {
      text-align: left; color: var(--muted); font-size: .78rem;
      text-transform: uppercase; letter-spacing: .1em;
      padding: 8px 12px; border-bottom: 1px solid #2a2a4a;
    }
    .lb-table td {
      padding: 10px 12px; font-size: .9rem;
      border-bottom: 1px solid #1a1a2e;
    }
    .lb-table tr:last-child td { border-bottom: none; }
    .lb-rank { font-family: 'Orbitron', sans-serif; font-weight: 700; color: var(--muted); }
    .lb-rank.gold   { color: var(--gold); }
    .lb-rank.silver { color: #c0c0c0; }
    .lb-rank.bronze { color: #cd7f32; }
    .lb-xp { color: var(--orange); font-weight: 700; }
    .lb-empty { color: var(--muted); text-align: center; padding: 24px; }

    /* â”€â”€â”€ Badges Section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .badges-section {
      background: var(--card-bg); border: 1px solid #2a2a4a;
      border-radius: var(--radius); padding: 28px;
    }
    .badges-section h2 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.2rem; color: var(--purple); margin-bottom: 20px;
      display: flex; align-items: center; gap: 10px;
    }
    .badges-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 14px;
    }
    .badge-card {
      background: #0d0d1a; border: 1px solid #2a2a4a;
      border-radius: 12px; padding: 18px 12px;
      text-align: center; transition: all .2s;
    }
    .badge-card.unlocked { border-color: var(--gold); background: rgba(255,215,0,.05); }
    .badge-card .badge-emoji { font-size: 2.2rem; margin-bottom: 6px; }
    .badge-card .badge-name { font-size: .75rem; font-weight: 600; color: var(--muted); }
    .badge-card.unlocked .badge-name { color: var(--gold); }
    .badge-card.locked .badge-emoji { filter: grayscale(1) opacity(.35); }

    /* â”€â”€â”€ Toast Notifications â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #toast-container {
      position: fixed; bottom: 24px; right: 24px;
      z-index: 9999; display: flex; flex-direction: column; gap: 10px;
    }
    .toast {
      background: var(--card-bg); border: 1px solid #3a3a5a;
      border-radius: 10px; padding: 12px 20px;
      color: var(--text); font-size: .9rem;
      animation: slideIn .3s ease, slideOut .3s ease 2.7s forwards;
      display: flex; align-items: center; gap: 10px;
      max-width: 300px;
    }
    @keyframes slideIn  { from { transform: translateX(120%); opacity: 0; } to { transform: none; opacity: 1; } }
    @keyframes slideOut { to   { transform: translateX(120%); opacity: 0; } }

    /* â”€â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 540px) {
      .modal-box { padding: 22px 18px; }
      .answer-opts { grid-template-columns: 1fr; }
      .games-grid { grid-template-columns: 1fr; }
    }

    /* â”€â”€â”€ Number Guesser Specific â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .guess-hint {
      background: #1a1a35; border-radius: 10px; padding: 14px;
      text-align: center; margin-bottom: 14px; min-height: 50px;
      font-size: 1rem; color: var(--muted);
    }
    .guess-history { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 14px; }
    .guess-chip {
      padding: 4px 12px; border-radius: 999px; font-size: .8rem; font-weight: 600;
    }
    .guess-chip.high  { background: rgba(239,68,68,.15);  color: #f87171; border: 1px solid rgba(239,68,68,.3); }
    .guess-chip.low   { background: rgba(59,130,246,.15); color: #7bb8ff; border: 1px solid rgba(59,130,246,.3); }
    .guess-chip.exact { background: rgba(34,197,94,.15);  color: #4ade80; border: 1px solid rgba(34,197,94,.3); }

    /* Fraction specific */
    .fraction-display {
      display: flex; align-items: center; justify-content: center;
      gap: 24px; font-size: 2.2rem; font-weight: 900;
    }
    .frac { display: inline-flex; flex-direction: column; align-items: center; }
    .frac span { display: block; font-family: 'Orbitron', sans-serif; line-height: 1.1; }
    .frac .line { width: 100%; height: 3px; background: currentColor; margin: 3px 0; border-radius: 2px; }

    /* Prime hunter */
    .number-grid {
      display: grid; grid-template-columns: repeat(5, 1fr);
      gap: 8px; margin-bottom: 14px;
    }
    .num-tile {
      aspect-ratio: 1; display: flex; align-items: center; justify-content: center;
      background: #1a1a35; border: 2px solid #2a2a4a;
      border-radius: 10px; font-family: 'Orbitron', sans-serif;
      font-weight: 700; font-size: 1rem; cursor: pointer;
      transition: all .15s; user-select: none;
    }
    .num-tile:hover { border-color: var(--orange); color: var(--orange); }
    .num-tile.selected-prime { border-color: var(--green); background: rgba(34,197,94,.15); color: var(--green); }
    .num-tile.selected-wrong { border-color: var(--red); background: rgba(239,68,68,.1); color: var(--red); }
    .num-tile.revealed-prime { border-color: var(--gold); background: rgba(255,215,0,.1); color: var(--gold); }
  </style>
</head>

<body>
<div class="stars"></div>
<div id="header-container"></div>

<div class="games-wrapper">

  <!-- â”€â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="games-hero">
    <div class="eyebrow">ğŸ® TutorDA Interactive</div>
    <h1>Math Games Hub</h1>
    <p>Play, compete, and level up your skills. Earn XP and badges across arithmetic, fractions, algebra, primes, and more.</p>
  </div>

  <!-- â”€â”€â”€ Player Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="player-bar">
    <div class="player-name-section">
      <input type="text" id="player-name-input" placeholder="Enter your nameâ€¦" maxlength="20">
      <button onclick="setPlayerName()">Set Name</button>
    </div>
    <div class="stat-chip"><span class="label">Player</span>&nbsp;<span class="value" id="display-name">Guest</span></div>
    <div class="stat-chip"><span class="label">Level</span>&nbsp;<span class="value" id="display-level">1</span></div>
    <div class="stat-chip"><span class="label">XP</span>&nbsp;<span class="value" id="display-xp">0</span></div>
    <div class="stat-chip" style="flex-direction:column; gap:4px; min-width:160px;">
      <span class="label">XP Progress</span>
      <div id="xp-bar-wrap"><div id="xp-bar" style="width:0%"></div></div>
    </div>
  </div>

  <!-- â”€â”€â”€ Game Cards Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="games-grid">

    <!-- 1. Math Sprint -->
    <div class="game-card">
      <div class="game-card-header">
        <div class="game-icon" style="background:rgba(255,140,0,.15); color:var(--orange);">âš¡</div>
        <div>
          <h3>Math Sprint</h3>
          <div class="desc">Race against the clock! Solve arithmetic problems as fast as you can in 60 seconds.</div>
        </div>
      </div>
      <div class="game-meta">
        <span class="badge-pill pill-xp">+10 XP / correct</span>
        <span class="badge-pill pill-level">All Levels</span>
        <span class="badge-pill pill-topic">Arithmetic</span>
      </div>
      <div class="game-card-body">
        <button class="play-btn" onclick="openGame('sprint')">â–¶ Play Now</button>
      </div>
    </div>

    <!-- 2. Number Quest -->
    <div class="game-card">
      <div class="game-card-header">
        <div class="game-icon" style="background:rgba(59,130,246,.15); color:#7bb8ff;">ğŸ”</div>
        <div>
          <h3>Number Quest</h3>
          <div class="desc">Guess the secret number between 1â€“100 using hot/cold hints. Can you find it in under 7 tries?</div>
        </div>
      </div>
      <div class="game-meta">
        <span class="badge-pill pill-xp">+50 XP / win</span>
        <span class="badge-pill pill-level">Beginner</span>
        <span class="badge-pill pill-topic">Logic</span>
      </div>
      <div class="game-card-body">
        <button class="play-btn" onclick="openGame('guess')">â–¶ Play Now</button>
      </div>
    </div>

    <!-- 3. Fraction Duel -->
    <div class="game-card">
      <div class="game-card-header">
        <div class="game-icon" style="background:rgba(168,85,247,.15); color:#d099ff;">ğŸ•</div>
        <div>
          <h3>Fraction Duel</h3>
          <div class="desc">Compare two fractions â€” which is greater? Build your fraction intuition fast.</div>
        </div>
      </div>
      <div class="game-meta">
        <span class="badge-pill pill-xp">+15 XP / correct</span>
        <span class="badge-pill pill-level">Intermediate</span>
        <span class="badge-pill pill-topic">Fractions</span>
      </div>
      <div class="game-card-body">
        <button class="play-btn" onclick="openGame('fraction')">â–¶ Play Now</button>
      </div>
    </div>

    <!-- 4. Algebra Escape -->
    <div class="game-card">
      <div class="game-card-header">
        <div class="game-icon" style="background:rgba(34,197,94,.15); color:#4ade80;">ğŸ”“</div>
        <div>
          <h3>Algebra Escape</h3>
          <div class="desc">Solve linear equations to unlock the vault. Each correct answer opens the next lock.</div>
        </div>
      </div>
      <div class="game-meta">
        <span class="badge-pill pill-xp">+20 XP / solved</span>
        <span class="badge-pill pill-level">Intermediate</span>
        <span class="badge-pill pill-topic">Algebra</span>
      </div>
      <div class="game-card-body">
        <button class="play-btn" onclick="openGame('algebra')">â–¶ Play Now</button>
      </div>
    </div>

    <!-- 5. Prime Hunter -->
    <div class="game-card">
      <div class="game-card-header">
        <div class="game-icon" style="background:rgba(255,215,0,.12); color:var(--gold);">ğŸ¯</div>
        <div>
          <h3>Prime Hunter</h3>
          <div class="desc">Tap all the prime numbers hiding in the grid before time runs out. How sharp is your number sense?</div>
        </div>
      </div>
      <div class="game-meta">
        <span class="badge-pill pill-xp">+25 XP / round</span>
        <span class="badge-pill pill-level">Advanced</span>
        <span class="badge-pill pill-topic">Number Theory</span>
      </div>
      <div class="game-card-body">
        <button class="play-btn" onclick="openGame('prime')">â–¶ Play Now</button>
      </div>
    </div>

    <!-- 6. Times Table Blitz -->
    <div class="game-card">
      <div class="game-card-header">
        <div class="game-icon" style="background:rgba(239,68,68,.12); color:#f87171;">ğŸŒŸ</div>
        <div>
          <h3>Times Table Blitz</h3>
          <div class="desc">Master your multiplication tables with rapid-fire MCQ rounds. Beat your high score!</div>
        </div>
      </div>
      <div class="game-meta">
        <span class="badge-pill pill-xp">+8 XP / correct</span>
        <span class="badge-pill pill-level">All Levels</span>
        <span class="badge-pill pill-topic">Multiplication</span>
      </div>
      <div class="game-card-body">
        <button class="play-btn" onclick="openGame('times')">â–¶ Play Now</button>
      </div>
    </div>

  </div><!-- /games-grid -->

  <!-- â”€â”€â”€ Leaderboard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="leaderboard-section">
    <h2>ğŸ† Leaderboard</h2>
    <table class="lb-table">
      <thead>
        <tr>
          <th>#</th><th>Player</th><th>Level</th><th>XP</th>
        </tr>
      </thead>
      <tbody id="lb-body">
        <tr><td colspan="4" class="lb-empty">No scores yet â€” be the first to play!</td></tr>
      </tbody>
    </table>
  </div>

  <!-- â”€â”€â”€ Badges â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="badges-section">
    <h2>ğŸ–ï¸ Badges</h2>
    <div class="badges-grid" id="badges-grid"></div>
  </div>

</div><!-- /games-wrapper -->

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: Math Sprint
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="modal-sprint">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('sprint')">âœ•</button>
    <h2>âš¡ Math Sprint</h2>
    <p class="subtitle">Solve as many as you can in 60 seconds!</p>
    <div class="diff-select" id="sprint-diff">
      <button class="diff-btn active" onclick="setDiff('sprint','easy',this)">Easy</button>
      <button class="diff-btn" onclick="setDiff('sprint','medium',this)">Medium</button>
      <button class="diff-btn" onclick="setDiff('sprint','hard',this)">Hard</button>
    </div>
    <div id="sprint-play" style="display:none;">
      <div class="game-score-row">
        <div class="score-item"><div class="s-label">Score</div><div class="s-val" id="sprint-score">0</div></div>
        <div class="score-item"><div class="s-label">Time</div><div class="s-val" id="timer-val">60</div></div>
        <div class="score-item"><div class="s-label">Streak</div><div class="s-val" id="sprint-streak">0</div></div>
      </div>
      <div class="question-box">
        <div class="question-text" id="sprint-q">?</div>
      </div>
      <input type="number" class="answer-input" id="sprint-ans" placeholder="?" onkeydown="if(event.key==='Enter')checkSprint()">
      <div class="feedback-msg" id="sprint-fb"></div>
      <button class="action-btn" onclick="checkSprint()">Submit Answer</button>
    </div>
    <div class="result-screen" id="sprint-result">
      <div class="result-emoji" id="sprint-res-emoji">ğŸ‰</div>
      <div class="result-title" id="sprint-res-title">Time's Up!</div>
      <div class="result-sub" id="sprint-res-sub"></div>
      <div class="xp-earned-badge" id="sprint-xp-badge">+0 XP</div>
      <button class="action-btn" onclick="startSprint()">Play Again</button>
    </div>
    <button class="action-btn" id="sprint-start-btn" onclick="startSprint()" style="margin-top:8px;">Start Game</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: Number Quest
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="modal-guess">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('guess')">âœ•</button>
    <h2>ğŸ” Number Quest</h2>
    <p class="subtitle">Guess the secret number (1â€“100) in 7 tries!</p>
    <div class="progress-track"><div class="progress-fill" id="guess-prog" style="width:0%"></div></div>
    <div class="guess-hint" id="guess-hint">Press Start to begin your questâ€¦</div>
    <div class="guess-history" id="guess-history"></div>
    <input type="number" class="answer-input" id="guess-ans" placeholder="Enter a number 1â€“100" min="1" max="100"
           onkeydown="if(event.key==='Enter')checkGuess()" style="display:none;">
    <div class="feedback-msg" id="guess-fb"></div>
    <div class="result-screen" id="guess-result">
      <div class="result-emoji" id="guess-res-emoji">ğŸ‰</div>
      <div class="result-title" id="guess-res-title">Found It!</div>
      <div class="result-sub" id="guess-res-sub"></div>
      <div class="xp-earned-badge" id="guess-xp-badge">+0 XP</div>
      <button class="action-btn" onclick="startGuess()">Play Again</button>
    </div>
    <button class="action-btn" id="guess-action" onclick="checkGuess()">Make a Guess</button>
    <button class="action-btn" id="guess-start-btn" onclick="startGuess()" style="margin-top:8px;">Start Game</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: Fraction Duel
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="modal-fraction">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('fraction')">âœ•</button>
    <h2>ğŸ• Fraction Duel</h2>
    <p class="subtitle">Which fraction is greater? Pick the correct symbol.</p>
    <div class="game-score-row">
      <div class="score-item"><div class="s-label">Score</div><div class="s-val" id="frac-score">0</div></div>
      <div class="score-item"><div class="s-label">Round</div><div class="s-val" id="frac-round">0/10</div></div>
    </div>
    <div class="progress-track"><div class="progress-fill" id="frac-prog" style="width:0%"></div></div>
    <div class="question-box" id="frac-q-box" style="display:none;">
      <div class="fraction-display" id="frac-display"></div>
    </div>
    <div class="answer-opts" id="frac-opts" style="display:none;">
      <button class="opt-btn" onclick="checkFraction('&lt;')"> &lt; </button>
      <button class="opt-btn" onclick="checkFraction('=')">=</button>
      <button class="opt-btn" onclick="checkFraction('&gt;')">&gt;</button>
      <button class="opt-btn" onclick="checkFraction('?')">ğŸ¤” Not Sure</button>
    </div>
    <div class="feedback-msg" id="frac-fb"></div>
    <div class="result-screen" id="frac-result">
      <div class="result-emoji">ğŸ•</div>
      <div class="result-title" id="frac-res-title">Round Complete!</div>
      <div class="result-sub" id="frac-res-sub"></div>
      <div class="xp-earned-badge" id="frac-xp-badge">+0 XP</div>
      <button class="action-btn" onclick="startFraction()">Play Again</button>
    </div>
    <button class="action-btn" id="frac-start-btn" onclick="startFraction()">Start Game</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: Algebra Escape
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="modal-algebra">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('algebra')">âœ•</button>
    <h2>ğŸ”“ Algebra Escape</h2>
    <p class="subtitle">Solve each equation to crack the lock. 8 levels total!</p>
    <div class="game-score-row">
      <div class="score-item"><div class="s-label">Lock</div><div class="s-val" id="alg-level">1/8</div></div>
      <div class="score-item"><div class="s-label">Lives</div><div class="s-val" id="alg-lives">â¤ï¸â¤ï¸â¤ï¸</div></div>
    </div>
    <div class="progress-track"><div class="progress-fill" id="alg-prog" style="width:0%"></div></div>
    <div class="question-box" id="alg-q-box" style="display:none;">
      <div class="question-text" id="alg-q">?</div>
    </div>
    <input type="number" class="answer-input" id="alg-ans" placeholder="x = ?" style="display:none;"
           onkeydown="if(event.key==='Enter')checkAlgebra()">
    <div class="feedback-msg" id="alg-fb"></div>
    <div class="result-screen" id="alg-result">
      <div class="result-emoji" id="alg-res-emoji">ğŸ”“</div>
      <div class="result-title" id="alg-res-title">Escaped!</div>
      <div class="result-sub" id="alg-res-sub"></div>
      <div class="xp-earned-badge" id="alg-xp-badge">+0 XP</div>
      <button class="action-btn" onclick="startAlgebra()">Play Again</button>
    </div>
    <button class="action-btn" id="alg-action" onclick="checkAlgebra()" style="display:none;">Unlock</button>
    <button class="action-btn" id="alg-start-btn" onclick="startAlgebra()" style="margin-top:8px;">Start Escape</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: Prime Hunter
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="modal-prime">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('prime')">âœ•</button>
    <h2>ğŸ¯ Prime Hunter</h2>
    <p class="subtitle">Tap all the prime numbers. Avoid composites!</p>
    <div class="game-score-row">
      <div class="score-item"><div class="s-label">Score</div><div class="s-val" id="prime-score">0</div></div>
      <div class="score-item"><div class="s-label">Time</div><div class="s-val" id="prime-timer">30</div></div>
    </div>
    <div class="number-grid" id="prime-grid"></div>
    <div class="feedback-msg" id="prime-fb"></div>
    <div class="result-screen" id="prime-result">
      <div class="result-emoji">ğŸ¯</div>
      <div class="result-title" id="prime-res-title">Round Over!</div>
      <div class="result-sub" id="prime-res-sub"></div>
      <div class="xp-earned-badge" id="prime-xp-badge">+0 XP</div>
      <button class="action-btn" onclick="startPrime()">Play Again</button>
    </div>
    <button class="action-btn" id="prime-start-btn" onclick="startPrime()">Start Hunting</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: Times Table Blitz
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="modal-times">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('times')">âœ•</button>
    <h2>ğŸŒŸ Times Table Blitz</h2>
    <p class="subtitle">Pick the correct answer â€” all 12 tables!</p>
    <div class="game-score-row">
      <div class="score-item"><div class="s-label">Score</div><div class="s-val" id="times-score">0</div></div>
      <div class="score-item"><div class="s-label">Round</div><div class="s-val" id="times-round">0/12</div></div>
    </div>
    <div class="progress-track"><div class="progress-fill" id="times-prog" style="width:0%"></div></div>
    <div class="question-box" id="times-q-box" style="display:none;">
      <div class="question-text" id="times-q">?</div>
    </div>
    <div class="answer-opts" id="times-opts" style="display:none;"></div>
    <div class="feedback-msg" id="times-fb"></div>
    <div class="result-screen" id="times-result">
      <div class="result-emoji">ğŸŒŸ</div>
      <div class="result-title" id="times-res-title">Blitz Done!</div>
      <div class="result-sub" id="times-res-sub"></div>
      <div class="xp-earned-badge" id="times-xp-badge">+0 XP</div>
      <button class="action-btn" onclick="startTimes()">Play Again</button>
    </div>
    <button class="action-btn" id="times-start-btn" onclick="startTimes()">Start Blitz</button>
  </div>
</div>

<!-- Toast Container -->
<div id="toast-container"></div>

<div id="footer-container"></div>
<div id="backToTop">ğŸ”</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JAVASCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
/* â”€â”€â”€ Player State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
let player = JSON.parse(localStorage.getItem('tutorda_player') || '{"name":"Guest","xp":0,"level":1,"badges":[]}');
let leaderboard = JSON.parse(localStorage.getItem('tutorda_lb') || '[]');

const XP_PER_LEVEL = 200;

const BADGES_DEF = [
  { id:'first_game',  name:'First Game',    emoji:'ğŸ®', cond: p => p.xp >= 1 },
  { id:'level5',      name:'Level 5',       emoji:'â­', cond: p => p.level >= 5 },
  { id:'level10',     name:'Level 10',      emoji:'ğŸŒŸ', cond: p => p.level >= 10 },
  { id:'sprint100',   name:'Sprint Master', emoji:'âš¡', cond: p => (p.best_sprint||0) >= 10 },
  { id:'xp500',       name:'XP Hunter',     emoji:'ğŸ’', cond: p => p.xp >= 500 },
  { id:'xp1000',      name:'XP Legend',     emoji:'ğŸ‘‘', cond: p => p.xp >= 1000 },
  { id:'prime_ace',   name:'Prime Ace',     emoji:'ğŸ¯', cond: p => (p.best_prime||0) >= 8 },
  { id:'fraction_wiz',name:'Fraction Wiz',  emoji:'ğŸ•', cond: p => (p.frac_streak||0) >= 5 },
  { id:'algebra_hero',name:'Algebra Hero',  emoji:'ğŸ”“', cond: p => (p.alg_wins||0) >= 1 },
  { id:'guesser',     name:'Mind Reader',   emoji:'ğŸ”', cond: p => (p.guess_min||99) <= 4 },
];

function savePlayer() { localStorage.setItem('tutorda_player', JSON.stringify(player)); }
function saveLB()      { localStorage.setItem('tutorda_lb', JSON.stringify(leaderboard)); }

function addXP(amount) {
  player.xp += amount;
  const newLevel = Math.floor(player.xp / XP_PER_LEVEL) + 1;
  if (newLevel > player.level) {
    player.level = newLevel;
    toast(`ğŸ†™ Level Up! You are now Level ${player.level}!`, '#ffd700');
  }
  savePlayer(); updateUI(); checkBadges(); updateLB();
}

function updateUI() {
  document.getElementById('display-name').textContent  = player.name;
  document.getElementById('display-level').textContent = player.level;
  document.getElementById('display-xp').textContent    = player.xp;
  const prog = ((player.xp % XP_PER_LEVEL) / XP_PER_LEVEL) * 100;
  document.getElementById('xp-bar').style.width = prog + '%';
  renderLB(); renderBadges();
}

function setPlayerName() {
  const v = document.getElementById('player-name-input').value.trim();
  if (v) { player.name = v; savePlayer(); updateUI(); toast(`ğŸ‘‹ Welcome, ${v}!`); }
}

function updateLB() {
  const idx = leaderboard.findIndex(e => e.name === player.name);
  const entry = { name: player.name, level: player.level, xp: player.xp };
  if (idx >= 0) leaderboard[idx] = entry;
  else leaderboard.push(entry);
  leaderboard.sort((a,b) => b.xp - a.xp);
  if (leaderboard.length > 10) leaderboard = leaderboard.slice(0,10);
  saveLB(); renderLB();
}

function renderLB() {
  const tb = document.getElementById('lb-body');
  if (!leaderboard.length) { tb.innerHTML = '<tr><td colspan="4" class="lb-empty">No scores yet â€” be the first to play!</td></tr>'; return; }
  tb.innerHTML = leaderboard.map((e,i) => {
    const cls = i===0?'gold':i===1?'silver':i===2?'bronze':'';
    const medal = i===0?'ğŸ¥‡':i===1?'ğŸ¥ˆ':i===2?'ğŸ¥‰':'';
    return `<tr><td class="lb-rank ${cls}">${medal||i+1}</td><td>${e.name}</td><td>${e.level}</td><td class="lb-xp">${e.xp}</td></tr>`;
  }).join('');
}

function checkBadges() {
  BADGES_DEF.forEach(b => {
    if (!player.badges.includes(b.id) && b.cond(player)) {
      player.badges.push(b.id);
      savePlayer();
      toast(`${b.emoji} Badge Unlocked: ${b.name}!`, '#a855f7');
    }
  });
  renderBadges();
}

function renderBadges() {
  document.getElementById('badges-grid').innerHTML = BADGES_DEF.map(b => {
    const has = player.badges.includes(b.id);
    return `<div class="badge-card ${has?'unlocked':'locked'}">
      <div class="badge-emoji">${b.emoji}</div>
      <div class="badge-name">${b.name}</div>
    </div>`;
  }).join('');
}

/* â”€â”€â”€ Toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function toast(msg, color='#ff8c00') {
  const el = document.createElement('div');
  el.className = 'toast';
  el.innerHTML = `<span style="color:${color}">â—</span> ${msg}`;
  document.getElementById('toast-container').appendChild(el);
  setTimeout(() => el.remove(), 3200);
}

/* â”€â”€â”€ Modal Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function openGame(id) { document.getElementById('modal-'+id).classList.add('open'); }
function closeModal(id) { document.getElementById('modal-'+id).classList.remove('open'); }

/* â”€â”€â”€ Difficulty Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const diffSettings = { sprint: 'easy', times: 'medium' };
function setDiff(game, val, btn) {
  diffSettings[game] = val;
  btn.parentElement.querySelectorAll('.diff-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
}

function randInt(min, max) { return Math.floor(Math.random()*(max-min+1))+min; }
function gcd(a,b){return b?gcd(b,a%b):a;}
function isPrime(n){if(n<2)return false;for(let i=2;i<=Math.sqrt(n);i++)if(n%i===0)return false;return true;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GAME 1: MATH SPRINT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let sprintState = { score:0, streak:0, timer:60, interval:null, diff:'easy' };

function startSprint() {
  sprintState = { score:0, streak:0, timer:60, interval:null, diff: diffSettings.sprint || 'easy' };
  document.getElementById('sprint-start-btn').style.display = 'none';
  document.getElementById('sprint-diff').style.display = 'none';
  document.getElementById('sprint-result').classList.remove('show');
  document.getElementById('sprint-play').style.display = 'block';
  updateSprintUI(); genSprintQ();
  document.getElementById('sprint-ans').focus();
  sprintState.interval = setInterval(()=>{
    sprintState.timer--;
    document.getElementById('timer-val').textContent = sprintState.timer;
    if(sprintState.timer<=0) endSprint();
  }, 1000);
}

function genSprintQ() {
  const ops = ['+','-','Ã—'];
  const op  = ops[randInt(0, ops.length-1)];
  let a,b;
  if(sprintState.diff==='easy')  { a=randInt(1,12); b=randInt(1,12); }
  if(sprintState.diff==='medium'){ a=randInt(5,50); b=randInt(5,50); }
  if(sprintState.diff==='hard')  { a=randInt(10,99); b=randInt(10,99); }
  let ans;
  if(op==='+') ans=a+b;
  else if(op==='-') { if(a<b)[a,b]=[b,a]; ans=a-b; }
  else { a=randInt(1,12); b=randInt(1,12); ans=a*b; }
  sprintState.q = `${a} ${op} ${b} = ?`;
  sprintState.ans = ans;
  document.getElementById('sprint-q').textContent = sprintState.q;
  document.getElementById('sprint-ans').value = '';
  document.getElementById('sprint-ans').className = 'answer-input';
  document.getElementById('sprint-fb').textContent = '';
}

function checkSprint() {
  const val = parseInt(document.getElementById('sprint-ans').value);
  if(isNaN(val)) return;
  const inp = document.getElementById('sprint-ans');
  const fb  = document.getElementById('sprint-fb');
  if(val === sprintState.ans) {
    sprintState.score += 10; sprintState.streak++;
    inp.className = 'answer-input correct';
    fb.textContent = 'âœ“ Correct!'; fb.className='feedback-msg ok';
  } else {
    sprintState.streak = 0;
    inp.className = 'answer-input wrong';
    fb.textContent = `âœ— Answer was ${sprintState.ans}`; fb.className='feedback-msg bad';
  }
  updateSprintUI();
  setTimeout(() => { inp.className='answer-input'; genSprintQ(); inp.focus(); }, 350);
}

function updateSprintUI() {
  document.getElementById('sprint-score').textContent  = sprintState.score;
  document.getElementById('sprint-streak').textContent = sprintState.streak;
}

function endSprint() {
  clearInterval(sprintState.interval);
  document.getElementById('sprint-play').style.display = 'none';
  const res = document.getElementById('sprint-result');
  res.classList.add('show');
  const correct = sprintState.score / 10;
  const xp = sprintState.score;
  document.getElementById('sprint-res-emoji').textContent = correct >= 15 ? 'ğŸ†' : correct >= 8 ? 'ğŸ‰' : 'ğŸ˜¤';
  document.getElementById('sprint-res-title').textContent = correct >= 15 ? 'Amazing Sprint!' : correct >= 8 ? 'Great Job!' : 'Keep Practising!';
  document.getElementById('sprint-res-sub').textContent   = `You answered ${correct} correctly!`;
  document.getElementById('sprint-xp-badge').textContent  = `+${xp} XP`;
  if ((player.best_sprint||0) < correct) { player.best_sprint = correct; savePlayer(); }
  addXP(xp); checkBadges();
  document.getElementById('sprint-start-btn').style.display = 'block';
  document.getElementById('sprint-diff').style.display = 'flex';
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GAME 2: NUMBER QUEST (Guess the Number)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let guessState = { secret:0, tries:0, maxTries:7, active:false };

function startGuess() {
  guessState = { secret: randInt(1,100), tries:0, maxTries:7, active:true };
  document.getElementById('guess-start-btn').style.display = 'none';
  document.getElementById('guess-action').style.display = 'block';
  document.getElementById('guess-ans').style.display = 'block';
  document.getElementById('guess-ans').value = '';
  document.getElementById('guess-history').innerHTML = '';
  document.getElementById('guess-fb').textContent = '';
  document.getElementById('guess-result').classList.remove('show');
  document.getElementById('guess-hint').textContent = `I'm thinking of a number between 1 and 100. You have ${guessState.maxTries} tries!`;
  document.getElementById('guess-prog').style.width = '0%';
  document.getElementById('guess-ans').focus();
}

function checkGuess() {
  if(!guessState.active) return;
  const val = parseInt(document.getElementById('guess-ans').value);
  if(isNaN(val)||val<1||val>100) { document.getElementById('guess-fb').textContent='Enter a number 1â€“100'; return; }
  guessState.tries++;
  document.getElementById('guess-prog').style.width = (guessState.tries/guessState.maxTries*100)+'%';
  const diff = Math.abs(val - guessState.secret);
  let hint, chipClass;
  if(val === guessState.secret) {
    addGuessChip(val,'exact');
    endGuess(true);
    return;
  } else if(val > guessState.secret) {
    hint = diff<=5?'ğŸ”¥ Very hot! Go lower':diff<=15?'â™¨ï¸ Warm! Try lower':diff<=30?'â„ï¸ Cool, go lower':'ğŸ§Š Cold! Much lower';
    chipClass = 'high';
  } else {
    hint = diff<=5?'ğŸ”¥ Very hot! Go higher':diff<=15?'â™¨ï¸ Warm! Try higher':diff<=30?'â„ï¸ Cool, go higher':'ğŸ§Š Cold! Much higher';
    chipClass = 'low';
  }
  document.getElementById('guess-hint').textContent = hint;
  addGuessChip(val, chipClass);
  document.getElementById('guess-ans').value = '';
  document.getElementById('guess-ans').focus();
  if(guessState.tries >= guessState.maxTries) endGuess(false);
}

function addGuessChip(val, cls) {
  const chip = document.createElement('span');
  chip.className = `guess-chip ${cls}`;
  chip.textContent = val + (cls==='high'?' â†“':cls==='low'?' â†‘':'');
  document.getElementById('guess-history').appendChild(chip);
}

function endGuess(won) {
  guessState.active = false;
  document.getElementById('guess-action').style.display = 'none';
  document.getElementById('guess-ans').style.display = 'none';
  const res = document.getElementById('guess-result');
  res.classList.add('show');
  const xp = won ? Math.max(50 - (guessState.tries-1)*8, 10) : 5;
  document.getElementById('guess-res-emoji').textContent = won ? 'ğŸ¯' : 'ğŸ˜¢';
  document.getElementById('guess-res-title').textContent = won ? `Found in ${guessState.tries} tries!` : 'Better luck next time!';
  document.getElementById('guess-res-sub').textContent   = won ? '' : `The number was ${guessState.secret}.`;
  document.getElementById('guess-xp-badge').textContent  = `+${xp} XP`;
  if(won && guessState.tries < (player.guess_min||99)) { player.guess_min = guessState.tries; savePlayer(); }
  addXP(xp); checkBadges();
  document.getElementById('guess-start-btn').style.display = 'block';
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GAME 3: FRACTION DUEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let fracState = { score:0, round:0, total:10, frac1:null, frac2:null, frac_streak:0 };

function startFraction() {
  fracState = { score:0, round:0, total:10, frac1:null, frac2:null, frac_streak:0 };
  document.getElementById('frac-start-btn').style.display = 'none';
  document.getElementById('frac-result').classList.remove('show');
  document.getElementById('frac-q-box').style.display = 'block';
  document.getElementById('frac-opts').style.display = 'grid';
  nextFraction();
}

function nextFraction() {
  fracState.round++;
  document.getElementById('frac-round').textContent = `${fracState.round}/${fracState.total}`;
  document.getElementById('frac-prog').style.width = ((fracState.round-1)/fracState.total*100)+'%';
  const n1=randInt(1,9), d1=randInt(2,9), n2=randInt(1,9), d2=randInt(2,9);
  fracState.frac1={n:n1,d:d1}; fracState.frac2={n:n2,d:d2};
  const v1=n1/d1, v2=n2/d2;
  fracState.correct_ans = v1<v2?'<':v1>v2?'>':'=';
  document.getElementById('frac-display').innerHTML =
    `<div class="frac" style="color:#7bb8ff"><span>${n1}</span><div class="line"></div><span>${d1}</span></div>
     <span style="color:var(--muted);font-size:1.5rem;">?</span>
     <div class="frac" style="color:#d099ff"><span>${n2}</span><div class="line"></div><span>${d2}</span></div>`;
  document.getElementById('frac-fb').textContent = '';
  document.getElementById('frac-opts').querySelectorAll('.opt-btn').forEach(b=>b.className='opt-btn');
}

function checkFraction(choice) {
  const correct = fracState.correct_ans;
  const opts = document.getElementById('frac-opts').querySelectorAll('.opt-btn');
  const fb   = document.getElementById('frac-fb');
  opts.forEach(b => { if(b.textContent.trim() === choice) b.classList.add(choice===correct?'correct':'wrong'); });
  if(choice === correct) {
    fracState.score += 15; fracState.frac_streak++;
    fb.textContent='âœ“ Correct!'; fb.className='feedback-msg ok';
    document.getElementById('frac-score').textContent = fracState.score;
  } else {
    fracState.frac_streak = 0;
    fb.textContent=`âœ— It was ${fracState.frac1.n}/${fracState.frac1.d} ${correct} ${fracState.frac2.n}/${fracState.frac2.d}`;
    fb.className='feedback-msg bad';
  }
  setTimeout(()=>{ if(fracState.round>=fracState.total) endFraction(); else nextFraction(); }, 900);
}

function endFraction() {
  document.getElementById('frac-q-box').style.display = 'none';
  document.getElementById('frac-opts').style.display = 'none';
  document.getElementById('frac-prog').style.width = '100%';
  const res = document.getElementById('frac-result');
  res.classList.add('show');
  const xp = fracState.score;
  document.getElementById('frac-res-title').textContent = fracState.score>=120?'Fraction Master!':fracState.score>=75?'Well Done!':'Keep Practising!';
  document.getElementById('frac-res-sub').textContent   = `Score: ${fracState.score} / ${fracState.total*15}`;
  document.getElementById('frac-xp-badge').textContent  = `+${xp} XP`;
  if(fracState.frac_streak > (player.frac_streak||0)) { player.frac_streak = fracState.frac_streak; savePlayer(); }
  addXP(xp); checkBadges();
  document.getElementById('frac-start-btn').style.display = 'block';
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GAME 4: ALGEBRA ESCAPE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let algState = { level:0, lives:3, ans:0, xpTotal:0 };
const algEquations = [
  { q:'x + 3 = 7',       a:4 },  { q:'2x = 10',          a:5 },
  { q:'x âˆ’ 4 = 9',       a:13 }, { q:'3x + 1 = 16',      a:5 },
  { q:'x Ã· 2 = 6',       a:12 }, { q:'5x âˆ’ 3 = 22',      a:5 },
  { q:'2x + 7 = 19',     a:6 },  { q:'4x âˆ’ 8 = 20',      a:7 },
];

function startAlgebra() {
  algState = { level:0, lives:3, xpTotal:0 };
  document.getElementById('alg-start-btn').style.display = 'none';
  document.getElementById('alg-result').classList.remove('show');
  document.getElementById('alg-q-box').style.display = 'block';
  document.getElementById('alg-ans').style.display = 'block';
  document.getElementById('alg-action').style.display = 'block';
  loadAlgLevel();
}

function loadAlgLevel() {
  const eq = algEquations[algState.level];
  algState.ans = eq.a;
  document.getElementById('alg-level').textContent = `${algState.level+1}/8`;
  document.getElementById('alg-prog').style.width  = (algState.level/8*100)+'%';
  document.getElementById('alg-q').textContent     = eq.q;
  document.getElementById('alg-lives').textContent = 'â¤ï¸'.repeat(algState.lives);
  document.getElementById('alg-ans').value = '';
  document.getElementById('alg-fb').textContent = '';
  document.getElementById('alg-ans').focus();
}

function checkAlgebra() {
  const val = parseInt(document.getElementById('alg-ans').value);
  if(isNaN(val)) return;
  const fb  = document.getElementById('alg-fb');
  const inp = document.getElementById('alg-ans');
  if(val === algState.ans) {
    algState.xpTotal += 20; inp.className='answer-input correct';
    fb.textContent='ğŸ”“ Unlocked!'; fb.className='feedback-msg ok';
    setTimeout(()=>{
      inp.className='answer-input';
      algState.level++;
      if(algState.level >= algEquations.length) endAlgebra(true);
      else loadAlgLevel();
    }, 600);
  } else {
    algState.lives--;
    document.getElementById('alg-lives').textContent = 'â¤ï¸'.repeat(Math.max(0,algState.lives));
    fb.textContent = algState.lives<=0 ? `âœ— Answer: x = ${algState.ans}. Game over!` : `âœ— Try again (x = ?)`;
    fb.className='feedback-msg bad'; inp.className='answer-input wrong';
    setTimeout(()=>{ inp.className='answer-input'; if(algState.lives<=0) endAlgebra(false); }, 700);
  }
}

function endAlgebra(won) {
  document.getElementById('alg-q-box').style.display = 'none';
  document.getElementById('alg-ans').style.display = 'none';
  document.getElementById('alg-action').style.display = 'none';
  document.getElementById('alg-prog').style.width = '100%';
  const res = document.getElementById('alg-result');
  res.classList.add('show');
  document.getElementById('alg-res-emoji').textContent  = won?'ğŸ”“':'ğŸ’”';
  document.getElementById('alg-res-title').textContent  = won?'Escaped!':'Locked In!';
  document.getElementById('alg-res-sub').textContent    = won?'You solved all 8 equations!':`You reached lock ${algState.level+1}/8.`;
  document.getElementById('alg-xp-badge').textContent   = `+${algState.xpTotal} XP`;
  if(won) { player.alg_wins = (player.alg_wins||0)+1; savePlayer(); }
  addXP(algState.xpTotal); checkBadges();
  document.getElementById('alg-start-btn').style.display = 'block';
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GAME 5: PRIME HUNTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let primeState = { score:0, timer:30, interval:null, nums:[], selected:[] };

function startPrime() {
  clearInterval(primeState.interval);
  primeState = { score:0, timer:30, interval:null, nums:[], selected:[] };
  document.getElementById('prime-start-btn').style.display = 'none';
  document.getElementById('prime-result').classList.remove('show');
  document.getElementById('prime-fb').textContent = '';
  genPrimeGrid();
  primeState.interval = setInterval(()=>{
    primeState.timer--;
    document.getElementById('prime-timer').textContent = primeState.timer;
    if(primeState.timer<=0) endPrime();
  },1000);
}

function genPrimeGrid() {
  const nums = new Set();
  while(nums.size<20) nums.add(randInt(2,60));
  primeState.nums = [...nums];
  const grid = document.getElementById('prime-grid');
  grid.innerHTML = primeState.nums.map((n,i)=>
    `<div class="num-tile" id="pt-${i}" onclick="selectPrime(${i},${n})">${n}</div>`
  ).join('');
}

function selectPrime(idx, num) {
  if(primeState.selected.includes(idx)) return;
  primeState.selected.push(idx);
  const tile = document.getElementById(`pt-${idx}`);
  const fb   = document.getElementById('prime-fb');
  if(isPrime(num)) {
    primeState.score++;
    tile.className='num-tile selected-prime';
    fb.textContent='âœ“ Prime!'; fb.className='feedback-msg ok';
  } else {
    primeState.score = Math.max(0, primeState.score-1);
    tile.className='num-tile selected-wrong';
    fb.textContent='âœ— Not prime!'; fb.className='feedback-msg bad';
  }
  document.getElementById('prime-score').textContent = primeState.score;
}

function endPrime() {
  clearInterval(primeState.interval);
  // reveal remaining primes
  primeState.nums.forEach((n,i)=>{
    if(isPrime(n)&&!primeState.selected.includes(i))
      document.getElementById(`pt-${i}`).className='num-tile revealed-prime';
  });
  const res = document.getElementById('prime-result');
  res.classList.add('show');
  const xp = primeState.score * 25;
  document.getElementById('prime-res-title').textContent = primeState.score>=8?'Prime Expert!':primeState.score>=5?'Good Hunter!':'Keep Hunting!';
  document.getElementById('prime-res-sub').textContent   = `You identified ${primeState.score} primes correctly!`;
  document.getElementById('prime-xp-badge').textContent  = `+${xp} XP`;
  if(primeState.score > (player.best_prime||0)) { player.best_prime = primeState.score; savePlayer(); }
  addXP(xp); checkBadges();
  document.getElementById('prime-start-btn').style.display = 'block';
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GAME 6: TIMES TABLE BLITZ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let timesState = { score:0, round:0, total:12, correct:0, curAns:0 };

function startTimes() {
  timesState = { score:0, round:0, total:12, correct:0, curAns:0 };
  document.getElementById('times-start-btn').style.display = 'none';
  document.getElementById('times-result').classList.remove('show');
  document.getElementById('times-q-box').style.display = 'block';
  document.getElementById('times-opts').style.display = 'grid';
  nextTimes();
}

function nextTimes() {
  timesState.round++;
  document.getElementById('times-round').textContent = `${timesState.round}/${timesState.total}`;
  document.getElementById('times-prog').style.width  = ((timesState.round-1)/timesState.total*100)+'%';
  const a = randInt(1,12), b = randInt(1,12);
  timesState.curAns = a*b;
  document.getElementById('times-q').textContent = `${a} Ã— ${b} = ?`;
  // generate 4 options
  const opts = new Set([timesState.curAns]);
  while(opts.size<4) opts.add(a*randInt(1,12));
  const arr = [...opts].sort(()=>Math.random()-.5);
  document.getElementById('times-opts').innerHTML = arr.map(v =>
    `<button class="opt-btn" onclick="checkTimes(${v},this)">${v}</button>`
  ).join('');
  document.getElementById('times-fb').textContent = '';
}

function checkTimes(val, btn) {
  const fb = document.getElementById('times-fb');
  document.getElementById('times-opts').querySelectorAll('.opt-btn').forEach(b=>b.onclick=null);
  if(val === timesState.curAns) {
    timesState.score += 8; timesState.correct++;
    btn.className='opt-btn correct';
    fb.textContent='âœ“ Correct!'; fb.className='feedback-msg ok';
  } else {
    btn.className='opt-btn wrong';
    document.getElementById('times-opts').querySelectorAll('.opt-btn').forEach(b=>{
      if(parseInt(b.textContent)===timesState.curAns) b.className='opt-btn correct';
    });
    fb.textContent=`âœ— Answer was ${timesState.curAns}`; fb.className='feedback-msg bad';
  }
  document.getElementById('times-score').textContent = timesState.score;
  setTimeout(()=>{ if(timesState.round>=timesState.total) endTimes(); else nextTimes(); }, 800);
}

function endTimes() {
  document.getElementById('times-q-box').style.display = 'none';
  document.getElementById('times-opts').style.display  = 'none';
  document.getElementById('times-prog').style.width = '100%';
  const res = document.getElementById('times-result');
  res.classList.add('show');
  const xp = timesState.score;
  document.getElementById('times-res-title').textContent = timesState.correct>=10?'Blitz Master!':timesState.correct>=7?'Great Job!':'Keep Practising!';
  document.getElementById('times-res-sub').textContent   = `${timesState.correct}/${timesState.total} correct â€” ${timesState.score} points`;
  document.getElementById('times-xp-badge').textContent  = `+${xp} XP`;
  addXP(xp); checkBadges();
  document.getElementById('times-start-btn').style.display = 'block';
}

/* â”€â”€â”€ Back to Top â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const btt = document.getElementById('backToTop');
if(btt) { window.addEventListener('scroll',()=>btt.style.display=window.scrollY>300?'block':'none'); btt.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'})); }

/* â”€â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
updateUI();

/* â”€â”€â”€ Load Header / Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
fetch('../components/header.html').then(r=>r.text()).then(h=>document.getElementById('header-container').innerHTML=h);
fetch('../components/footer.html').then(r=>r.text()).then(h=>document.getElementById('footer-container').innerHTML=h);
</script>
</body>
</html>
